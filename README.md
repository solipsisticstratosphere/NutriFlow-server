# ü•ó NutriFlow Server

Backend API –¥–ª—è –¥–æ–¥–∞—Ç–∫—É –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —Ö–∞—Ä—á—É–≤–∞–Ω–Ω—è –∑ AI –∞–Ω–∞–ª—ñ–∑–æ–º –¥—ñ—î—Ç–∏.

## üìã –ó–º—ñ—Å—Ç

- [–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª](#—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª)
- [–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó](#—Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó)
- [–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è](#–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è)
- [–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è](#–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è)
- [API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è](#api-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è)
- [–¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è](#—Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)
- [–°–∫—Ä–∏–ø—Ç–∏](#—Å–∫—Ä–∏–ø—Ç–∏)

## ‚ú® –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

### –û—Å–Ω–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª
- ‚úÖ **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è JWT** - –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è, –ª–æ–≥—ñ–Ω, –∑–∞—Ö–∏—â–µ–Ω—ñ endpoints
- ‚úÖ **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏** - CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó, –ø—É–±–ª—ñ—á–Ω—ñ/–ø—Ä–∏–≤–∞—Ç–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç–∏
- ‚úÖ **–ü—Ä–∏–π–æ–º–∏ —ó–∂—ñ** - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è, —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ö–ë–ñ–£
- ‚úÖ **–î–µ–Ω–Ω–∏–π –ª–æ–≥** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –∑–∞ –¥–µ–Ω—å
- ‚úÖ **–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞** - –î–µ–Ω–Ω–∞, —Ç–∏–∂–Ω–µ–≤–∞, –º—ñ—Å—è—á–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ **–í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤–æ–¥–∏** - –û–±–ª—ñ–∫ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –≤–æ–¥–∏ (0-10000 –º–ª/–¥–µ–Ω—å)
- ‚úÖ **–í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤–∞–≥–∏** - –Ü—Å—Ç–æ—Ä—ñ—è –∑–º—ñ–Ω–∏ –≤–∞–≥–∏

### AI –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª (Hugging Face Qwen 2.5 7B)
- ü§ñ **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ —á–µ—Ä–µ–∑ AI** - –†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –Ω–∞–∑–≤–∏ ‚Üí –ö–ë–ñ–£ + –∫–∞—Ç–µ–≥–æ—Ä—ñ—è
- ü§ñ **–ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó** - –ê–Ω–∞–ª—ñ–∑ —Ä–∞—Ü—ñ–æ–Ω—É + –ø–æ—Ä–∞–¥–∏
- ü§ñ **–ö–µ—à—É–≤–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π** - 97.4% —à–≤–∏–¥—à–µ (24 –≥–æ–¥–∏–Ω–∏ TTL)
- ü§ñ **Retry –ª–æ–≥—ñ–∫–∞** - Exponential backoff (3 —Å–ø—Ä–æ–±–∏)

### –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ —è–∫—ñ—Å—Ç—å
- üîí **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö** - express-validator –¥–ª—è –≤—Å—ñ—Ö endpoints
- üîí **Rate limiting** - 3-—Ä—ñ–≤–Ω–µ–≤–∞ —Å–∏—Å—Ç–µ–º–∞ –∑–∞—Ö–∏—Å—Ç—É
- üîí **–û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫** - –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π error handler
- üîí **–Ü–Ω–¥–µ–∫—Å–∏ –ë–î** - –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –∑–∞–ø–∏—Ç—ñ–≤
- üîí **N+1 query fix** - MongoDB aggregation

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- üìö **Swagger UI** - –ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API –Ω–∞ `/api-docs`
- üìö **–ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—ñ–≤** - –î–ª—è –≤—Å—ñ—Ö endpoints

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Node.js** + **Express** - Backend framework
- **MongoDB** + **Mongoose** - –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
- **JWT** + **bcryptjs** - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
- **Hugging Face API** - AI –∞–Ω–∞–ª—ñ–∑ (Qwen 2.5 7B Instruct)
- **node-cache** - –ö–µ—à—É–≤–∞–Ω–Ω—è AI –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- **express-validator** - –í–∞–ª—ñ–¥–∞—Ü—ñ—è
- **express-rate-limit** - Rate limiting
- **swagger-jsdoc** + **swagger-ui-express** - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

## üì¶ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### 1. –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
```bash
git clone <repository-url>
cd NutriFlow-server
```

### 2. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
```bash
npm install
```

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ .env
```env
# MongoDB
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/nutriflow

# JWT
JWT_SECRET=your_super_secret_jwt_key_here
JWT_EXPIRE=30d

# Server
PORT=5001
NODE_ENV=development

# AI (Hugging Face)
HUGGING_FACE_API_KEY=hf_your_api_key_here
```

### 4. –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ –ë–î —Ç–µ—Å—Ç–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏
```bash
npm run db:reset
```

### 5. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä
```bash
npm start
# –∞–±–æ –¥–ª—è development –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–æ–º:
npm run dev
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –Ω–∞ `http://localhost:5001`

## üöÄ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
–í—ñ–¥–∫—Ä–∏–π—Ç–µ —É –±—Ä–∞—É–∑–µ—Ä—ñ:
```
http://localhost:5001/api-docs
```

### –ü—Ä–∏–∫–ª–∞–¥: –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
```bash
POST /api/auth/register
Content-Type: application/json

{
  "name": "–Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ",
  "email": "ivan@example.com",
  "password": "Password123",
  "profile": {
    "age": 30,
    "gender": "male",
    "weight": 80,
    "height": 180,
    "activityLevel": "moderate",
    "goal": "lose_weight"
  }
}
```

### –ü—Ä–∏–∫–ª–∞–¥: –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤–æ–¥–∏
```bash
PUT /api/analytics/daily
Authorization: Bearer <your_token>
Content-Type: application/json

{
  "waterIntake": 2200,
  "weight": 79.5,
  "notes": "–í—ñ–¥—á—É–≤–∞–≤ —Å–µ–±–µ –¥–æ–±—Ä–µ"
}
```

### –ü—Ä–∏–∫–ª–∞–¥: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—É —á–µ—Ä–µ–∑ AI
```bash
POST /api/ai/create-product
Authorization: Bearer <your_token>
Content-Type: application/json

{
  "productName": "–±–∞–Ω–∞–Ω"
}
```

**–í—ñ–¥–ø–æ–≤—ñ–¥—å:**
```json
{
  "success": true,
  "data": {
    "product": {
      "name": "–ë–∞–Ω–∞–Ω",
      "category": "fruits",
      "nutritionPer100g": {
        "calories": 89,
        "protein": 1.1,
        "fats": 0.3,
        "carbs": 22.8
      }
    }
  }
}
```

## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è

### –û—Å–Ω–æ–≤–Ω—ñ endpoints

#### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
- `POST /api/auth/register` - –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
- `POST /api/auth/login` - –õ–æ–≥—ñ–Ω
- `GET /api/auth/profile` - –ü—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `PUT /api/auth/profile` - –û–Ω–æ–≤–∏—Ç–∏ –ø—Ä–æ—Ñ—ñ–ª—å

#### –ü—Ä–æ–¥—É–∫—Ç–∏
- `GET /api/products` - –°–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ (–ø–∞–≥—ñ–Ω–∞—Ü—ñ—è, –ø–æ—à—É–∫, —Ñ—ñ–ª—å—Ç—Ä–∏)
- `GET /api/products/:id` - –î–µ—Ç–∞–ª—ñ –ø—Ä–æ–¥—É–∫—Ç—É
- `POST /api/products` - –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç
- `PUT /api/products/:id` - –û–Ω–æ–≤–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç
- `DELETE /api/products/:id` - –í–∏–¥–∞–ª–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç

#### –ü—Ä–∏–π–æ–º–∏ —ó–∂—ñ
- `GET /api/meals` - –°–ø–∏—Å–æ–∫ –ø—Ä–∏–π–æ–º—ñ–≤ —ó–∂—ñ
- `GET /api/meals/:id` - –î–µ—Ç–∞–ª—ñ –ø—Ä–∏–π–æ–º—É —ó–∂—ñ
- `POST /api/meals` - –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–∏–π–æ–º —ó–∂—ñ
- `PUT /api/meals/:id` - –û–Ω–æ–≤–∏—Ç–∏ –ø—Ä–∏–π–æ–º —ó–∂—ñ
- `DELETE /api/meals/:id` - –í–∏–¥–∞–ª–∏—Ç–∏ –ø—Ä–∏–π–æ–º —ó–∂—ñ

#### –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞
- `GET /api/analytics/daily` - –î–µ–Ω–Ω–∏–π –ª–æ–≥
- `GET /api/analytics/weekly` - –¢–∏–∂–Ω–µ–≤–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `GET /api/analytics/monthly` - –ú—ñ—Å—è—á–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `GET /api/analytics/chart` - –î–∞–Ω—ñ –¥–ª—è –≥—Ä–∞—Ñ—ñ–∫—É
- `PUT /api/analytics/daily` - –û–Ω–æ–≤–∏—Ç–∏ –≤–æ–¥–∏/–≤–∞–≥—É/–Ω–æ—Ç–∞—Ç–∫–∏

#### AI
- `POST /api/ai/create-product` - –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç —á–µ—Ä–µ–∑ AI
- `GET /api/ai/suggestions` - –ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó
- `POST /api/ai/analyze-daily` - –ê–Ω–∞–ª—ñ–∑ –¥–µ–Ω–Ω–æ–≥–æ —Ä–∞—Ü—ñ–æ–Ω—É
- `POST /api/ai/analyze-weekly` - –ê–Ω–∞–ª—ñ–∑ —Ç–∏–∂–Ω–µ–≤–æ–≥–æ —Ä–∞—Ü—ñ–æ–Ω—É

–ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: `http://localhost:5001/api-docs`

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–í—Å—ñ —Ç–µ—Å—Ç–∏ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è –≤ –ø–∞–ø—Ü—ñ `tests/`. –î–µ—Ç–∞–ª—å–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è: [tests/README.md](tests/README.md)

### –®–≤–∏–¥–∫–∏–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç—ñ–≤

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—Å—ñ –æ—Å–Ω–æ–≤–Ω—ñ —Ç–µ—Å—Ç–∏
npm run test:all

# –û–∫—Ä–µ–º—ñ —Ç–µ—Å—Ç–∏
npm run test:api          # API —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è (97.1% —É—Å–ø—ñ—Ö)
npm run test:water        # –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤–æ–¥–∏
npm run test:validation   # –í–∞–ª—ñ–¥–∞—Ü—ñ—è
npm run test:cache        # AI –∫–µ—à—É–≤–∞–Ω–Ω—è (97.4% —à–≤–∏–¥—à–µ)
npm run test:ai           # AI —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤
npm run test:ai-suggestions # AI —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó
npm run test:full         # –ü–æ–≤–Ω–∏–π workflow
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—ñ–≤

| –¢–µ—Å—Ç | –£—Å–ø—ñ—à–Ω—ñ—Å—Ç—å | –ß–∞—Å |
|------|------------|-----|
| API —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è | 97.1% (34/35) | ~10-15s |
| –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤–æ–¥–∏ | 100% | ~5s |
| –í–∞–ª—ñ–¥–∞—Ü—ñ—è | 100% | ~3s |
| AI –∫–µ—à—É–≤–∞–Ω–Ω—è | 100% | ~10s |
| –ü–æ–≤–Ω–∏–π workflow | 100% | ~30-60s |

## üìú –°–∫—Ä–∏–ø—Ç–∏

### –†–æ–∑—Ä–æ–±–∫–∞
```bash
npm start           # –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä
npm run dev         # –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –∑ nodemon (auto-reload)
```

### –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö
```bash
npm run db:clear    # –û—á–∏—Å—Ç–∏—Ç–∏ –ë–î
npm run db:seed     # –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ —Ç–µ—Å—Ç–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏
npm run db:reset    # –û—á–∏—Å—Ç–∏—Ç–∏ + –∑–∞–ø–æ–≤–Ω–∏—Ç–∏
```

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
```bash
npm run test:all           # –í—Å—ñ –æ—Å–Ω–æ–≤–Ω—ñ —Ç–µ—Å—Ç–∏
npm run test:api           # API —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
npm run test:water         # –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤–æ–¥–∏
npm run test:validation    # –í–∞–ª—ñ–¥–∞—Ü—ñ—è
npm run test:cache         # AI –∫–µ—à—É–≤–∞–Ω–Ω—è
npm run test:ai            # AI —Ñ—É–Ω–∫—Ü—ñ—ó
npm run test:full          # –ü–æ–≤–Ω–∏–π workflow
```

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
NutriFlow-server/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ db.js              # MongoDB –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ indexes.js         # –Ü–Ω–¥–µ–∫—Å–∏ –ë–î
‚îÇ   ‚îî‚îÄ‚îÄ swagger.js         # Swagger –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ controllers/           # –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∏ endpoints
‚îÇ   ‚îú‚îÄ‚îÄ authController.js
‚îÇ   ‚îú‚îÄ‚îÄ productController.js
‚îÇ   ‚îú‚îÄ‚îÄ mealController.js
‚îÇ   ‚îú‚îÄ‚îÄ analyticsController.js
‚îÇ   ‚îî‚îÄ‚îÄ aiController.js
‚îú‚îÄ‚îÄ middleware/
‚îÇ   ‚îú‚îÄ‚îÄ auth.js            # JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ errorHandler.js    # –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ rateLimiter.js     # Rate limiting
‚îÇ   ‚îî‚îÄ‚îÄ validators/        # –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ models/                # Mongoose –º–æ–¥–µ–ª—ñ
‚îÇ   ‚îú‚îÄ‚îÄ User.js
‚îÇ   ‚îú‚îÄ‚îÄ Product.js
‚îÇ   ‚îú‚îÄ‚îÄ Meal.js
‚îÇ   ‚îî‚îÄ‚îÄ DailyLog.js
‚îú‚îÄ‚îÄ routes/                # API —Ä–æ—É—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ authRoutes.js
‚îÇ   ‚îú‚îÄ‚îÄ productRoutes.js
‚îÇ   ‚îú‚îÄ‚îÄ mealRoutes.js
‚îÇ   ‚îú‚îÄ‚îÄ analyticsRoutes.js
‚îÇ   ‚îî‚îÄ‚îÄ aiRoutes.js
‚îú‚îÄ‚îÄ scripts/               # –£—Ç–∏–ª—ñ—Ç–∏ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ clear-db.js
‚îÇ   ‚îú‚îÄ‚îÄ seed.js
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ services/              # –ë—ñ–∑–Ω–µ—Å –ª–æ–≥—ñ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ aiCache.js         # AI –∫–µ—à—É–≤–∞–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ aiService.js       # AI —Å–µ—Ä–≤—ñ—Å (unified)
‚îÇ   ‚îú‚îÄ‚îÄ huggingFaceService.js
‚îÇ   ‚îú‚îÄ‚îÄ calculationService.js
‚îÇ   ‚îî‚îÄ‚îÄ recommendationService.js
‚îú‚îÄ‚îÄ tests/                 # –¢–µ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ test-api.js
‚îÇ   ‚îú‚îÄ‚îÄ test-water-tracking.js
‚îÇ   ‚îú‚îÄ‚îÄ test-validation-direct.js
‚îÇ   ‚îú‚îÄ‚îÄ test-cache.js
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îî‚îÄ‚îÄ pagination.js      # –£—Ç–∏–ª—ñ—Ç–∞ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—ó
‚îú‚îÄ‚îÄ .env                   # –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
‚îú‚îÄ‚îÄ server.js              # Entry point
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ README.md              # –¶—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
‚îî‚îÄ‚îÄ WATER_TRACKING.md      # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤–æ–¥–∏
```

## üîë –¢–µ—Å—Ç–æ–≤—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –∑–∞–ø–∏—Å–∏

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É `npm run db:reset`:

| Email | –ü–∞—Ä–æ–ª—å | –ü—Ä–æ—Ñ—ñ–ª—å |
|-------|--------|---------|
| olena@example.com | Test123 | –ñ—ñ–Ω–∫–∞, 28 —Ä–æ–∫—ñ–≤, —Ü—ñ–ª—å: —Å—Ö—É–¥–Ω—É—Ç–∏ |
| andriy@example.com | Test123 | –ß–æ–ª–æ–≤—ñ–∫, 32 —Ä–æ–∫–∏, —Ü—ñ–ª—å: –Ω–∞–±—Ä–∞—Ç–∏ –º'—è–∑–∏ |
| maria@example.com | Test123 | –ñ—ñ–Ω–∫–∞, 25 —Ä–æ–∫—ñ–≤, —Ü—ñ–ª—å: –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ –≤–∞–≥–∏ |

## üöß –©–æ –±—É–ª–æ –ø–æ–∫—Ä–∞—â–µ–Ω–æ

### –ë–µ–∑–ø–µ–∫–∞
- ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞ –≤ auth middleware
- ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–∞ —É—Ä–∞–∑–ª–∏–≤—ñ—Å—Ç—å –æ–±—Ö–æ–¥—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤
- ‚úÖ –î–æ–¥–∞–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Å—ñ—Ö inputs
- ‚úÖ Rate limiting (3-—Ä—ñ–≤–Ω–µ–≤–∞ —Å–∏—Å—Ç–µ–º–∞)
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫

### –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
- ‚úÖ N+1 –∑–∞–ø–∏—Ç–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ (82% –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è)
- ‚úÖ MongoDB aggregation –¥–ª—è DailyLog
- ‚úÖ –Ü–Ω–¥–µ–∫—Å–∏ –ë–î –¥–ª—è —à–≤–∏–¥–∫–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤
- ‚úÖ AI –∫–µ—à—É–≤–∞–Ω–Ω—è (97.4% —à–≤–∏–¥—à–µ)

### –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª
- ‚úÖ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- ‚úÖ –ü–∞–≥—ñ–Ω–∞—Ü—ñ—è
- ‚úÖ –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤–æ–¥–∏
- ‚úÖ AI retry –ª–æ–≥—ñ–∫–∞
- ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏

### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- ‚úÖ 7 —Ä—ñ–∑–Ω–∏—Ö —Ç–µ—Å—Ç–æ–≤–∏—Ö —Å–∫—Ä–∏–ø—Ç—ñ–≤
- ‚úÖ 97.1% —É—Å–ø—ñ—à–Ω—ñ—Å—Ç—å (34/35 —Ç–µ—Å—Ç—ñ–≤)
- ‚úÖ –û—Ä–≥–∞–Ω—ñ–∑–æ–≤–∞–Ω—ñ –≤ –ø–∞–ø—Ü—ñ tests/

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

ISC

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

NutriFlow Development Team

---

**Happy Coding! üöÄ**

–î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è: [tests/README.md](tests/README.md)
–î–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤–æ–¥–∏: [WATER_TRACKING.md](WATER_TRACKING.md)
–î–ª—è Swagger docs: http://localhost:5001/api-docs
